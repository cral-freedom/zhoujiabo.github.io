<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    
    <title>操作系统学习之死锁 | Zhou&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="操作系统">
    <link rel="shortcut icon" href="https://i.loli.net/2020/02/12/5oNk3WDtxXbymYI.jpg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css" />
    <link rel="stylesheet" href="/zhoujiabo.github.io/css/style.css?v=1.4.4">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false}'),
            v: JSON.parse('{"enable":true,"appid":"ryu5gppP7IkOwtkX6qHMcct2-gzGzoHsz","appkey":"cROffFABz0EqQwYOsqfhJtex","notify":false,"verify":false,"visit_counter":true,"placeholder":"you can comment here","avatar":"wavatar"}'),
            g: JSON.parse('{"enable":false,"lazy":true,"owner":"codefine","repo":"gitment","oauth":{"client_id":null,"client_secret":null},"perPage":10}'),
            d: JSON.parse('{"app_id":null}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/zhoujiabo.github.io/atom.xml" title="Zhou's Blog" type="application/atom+xml">
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="https://i.loli.net/2020/02/12/or1sdw4mkOEgLTS.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/zhoujiabo.github.io/" class="avatar waves-effect waves-circle waves-light">
          <img src="https://i.loli.net/2020/02/12/vtkHuf7DyOIhaST.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">zhoujiabo</h5>
          <a href="mailto:2632213328@qq.com" title="2632213328@qq.com" class="mail">
            
              <span>2</span>
            
              <span>6</span>
            
              <span>3</span>
            
              <span>2</span>
            
              <span>2</span>
            
              <span>1</span>
            
              <span>3</span>
            
              <span>3</span>
            
              <span>2</span>
            
              <span>8</span>
            
              <span>@</span>
            
              <span>q</span>
            
              <span>q</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/cral-freedom" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/zhoujiabo.github.io/"  >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/zhoujiabo.github.io/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/zhoujiabo.github.io/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/zhoujiabo.github.io/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
            <li class="">
              <a href="/zhoujiabo.github.io/custom"  >
                <i class="icon icon-lg icon-plus-square"></i>
                CUSTOM
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>操作系统学习之死锁</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="https://i.loli.net/2020/02/12/9JrZUIzeSGMnbu7.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title">操作系统学习之死锁</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-02-17T15:25:00.000Z" itemprop="datePublished" class="page-time">
  2020-02-17
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/zhoujiabo.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0/">操作系统学习</a></li></ul>

            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-操作系统学习之死锁"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">操作系统学习之死锁</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-02-17 23:25:00" datetime="2020-02-17T15:25:00.000Z"  itemprop="datePublished">2020-02-17</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/zhoujiabo.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0/">操作系统学习</a></li></ul>



            

            
    <span class="leancloud-comment">
        <i class="icon icon-comment-o"></i>
        <a href="/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/#comment">
            <span class="valine-comment-count" data-xid="/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/"></span>
        </a>
    </span>



            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <p>有关“死锁”的话题：<br><br>    &emsp;• 死锁问题<br><br>    &emsp;• 关于死锁的系统模型<br><br>    &emsp;• 死锁状态的四大特征<br><br>    &emsp;• 处理死锁问题的思路（四个层次）<br><br>        &emsp;&emsp;○ 死锁预防，Deadlock Prevention<br><br>        &emsp;&emsp;○ 死锁避免，Deadlock Avoidance<br><br>        &emsp;&emsp;○ 死锁检测，Deadlock Detection<br><br>        &emsp;&emsp;○ 死锁恢复，Recovery from Deadlock<br></p>
<p>&emsp;死锁问题，定义：<br></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A <span class="built_in">set</span> of blocked processes each holding a resource and waiting to acquire a resource held by another process <span class="keyword">in</span> the <span class="built_in">set</span>.</span><br></pre></td></tr></table></figure>
<p>一组被阻塞进程的集合（构成一个死循环）：<br><br>    &emsp;a. 集合中每个进程既占有一些资源，同时又等待另一些资源；<br><br>    &emsp;b. 进程所等待的资源恰恰被集合中的某个等待进程占用。<br></p>
<figure class="image-box">
                <a rel=操作系统学习之死锁 href="https://file.moetu.org/images/2020/02/17/896f8b38435c00078fe51bb31a69c726e8f42d64eee7815a.png" target="_blank" title="" data-fancybox="images"><img src="https://file.moetu.org/images/2020/02/17/896f8b38435c00078fe51bb31a69c726e8f42d64eee7815a.png" alt="" title="" class=""></a>
                <p></p>
            </figure>
<p>进程Pi使用资源遵循这样的流程：<br><br>&emsp;申请资源——申请没被批准则等待，申请获批准则使用该资源——使用完毕后，释放资源<br><br><br></p>
<p>死锁的<font color="red"><big>四个必要条件</big></font>：<br><br>&emsp;Deadlock can arise if four conditions hold simultaneously.<br><br>    &emsp;a) <strong>Mutual exclusion</strong> 任何时刻，最多只能由一个进程使用资源<br><br>    &emsp;b) <strong>Hold and wait</strong> 任一个进程，它至少占有一个资源，同时又等待更多资源；而这些被等待的资源目前由其它进程占用<br><br>    &emsp;c) <strong>No preemption</strong> 进程完成其任务后，才会自愿释放其占用的资源（不能被抢占）<br><br>    &emsp;d) <strong>Circular wait</strong> 若干进程间形成首尾相接循环等待资源的关系，例如a等待目前被b占用的资源，b又等待目前被c占用的资源，c等待目前被a占用的资源<br><br><br><br>解决死锁Deadlock：<br><br>——预防，不要让死锁发生<br><br>——监测，即时解决<br><br>——鸵鸟政策，操作系统将死锁的问题丢给程序员<br></p>
<p><font color="red"><big>死锁预防</big></font>：（静态策略，代价太大，或难以实现）<br><br>任何情况下，保证4个条件不会同时满足。破坏产生死锁的条件：<br><br>——Mutual Exclusion, 可共享的资源自然不满足此条件；不可共享的资源必然满足此条件。<br><br>——Hold and wait，确保一个进程申请一个资源时，它没有占用其它资源。<br><br>    &emsp;a. 策略一：进程开始执行前，它已经申请并一次性获得所有资源<br><br>    &emsp;b. 策略二：只允许在不占有资源的情况下申请（手上的资源还了才能申请）<br><br>问题：资源利用率低，很可能引起饥饿<br><br>——No Preemption，隐式抢占<br><br>    &emsp;a. 一个进程已经拥有部分资源，假如它试图申请其它资源，但是没能马上满足，它不得不等待；同时要求，“它释放已拥有的所有资源”。（系统偷偷收回，进程本身不知道，但是操作系统会在进程申请其它资源成功后，把暂时收过来的资源还给进程，这时进程所需的资源已经齐备，进入到就绪队列）<br><br>    &emsp;b. 以这种途径释放的资源，用来重新分配给等待队列里的进程<br>局限性：只适用于状态易于保存和恢复的资源（内存、CPU）<br><br>——Circular Wait <br><br>    &emsp;a. 为所有类型的资源定义一个顺序号<br><br>    &emsp;b. 策略：一个进程先后申请的资源，其资源类型的顺序号必须单调递增<br><br>    &emsp;c. 哪些资源的编号在前，哪些资源编号靠后，可以根据资源使用的频繁性，将常用的资源放在前面，不常使用的资源放在后面<br><br></p>
<p><font color="red"><big>死锁避免</big></font>：（动态策略，银行家算法）<br><br>&emsp;前提：系统拥有先验知识，知道每个进程将如何利用资源，例如，每个进程事先申报：每种类型资源的最大需求数<br><br>&emsp;死锁避免算法动态检测资源分配状态（resource-allocation state），它问题确保circular-wait条件永远不成立。<br></p>
<p>资源分配状态决定于3个因素：<br><br>    &emsp;○ 系统可分配的资源数<br><br>    &emsp;○ 进程拥有的资源数<br><br>    &emsp;○ 进程对每种类型资源的最大需要数<br></p>
<p><strong>安全状态（Safe State）定义</strong>：<br><br>&emsp;当一进程申请可用资源时，系统必须判断：此次分配之后，系统是否仍然处于“安全状态”。<br><br>&emsp;如果存在一个序列&lt;p1,p2……pn&gt;<br><br>&emsp;进程pi将申请的资源&emsp; &lt;（当前可用资源+所有进程pj占有的资源）其中j&lt;i。<br><br>&emsp;那么称系统处于“安全状态”。<br><br><br><br>例子：</p>
<figure class="image-box">
                <a rel=操作系统学习之死锁 href="https://file.moetu.org/images/2020/02/17/de575f10af5269809cb332a966dc24b4ac5d4269e1899b42.png" target="_blank" title="" data-fancybox="images"><img src="https://file.moetu.org/images/2020/02/17/de575f10af5269809cb332a966dc24b4ac5d4269e1899b42.png" alt="" title="" class=""></a>
                <p></p>
            </figure>
<p>&emsp;安全序列不唯一，只要系统分配资源后能使进程进入就绪队列（意味着一段时间后，系统就能回收进程释放的资源），就说明系统分配是安全的。<br><br><br><font color="red">Dijkstra的银行家算法</font>：<br><br>&emsp;a. 算法能够管理多类型，多实例的资源；<br><br>&emsp;b. 每个进程必须事先预报它将用到的最大资源数<br><br>&emsp;c. 一个进程申请资源后，它可能被要求等待<br><br>&emsp;d. 一个进程得到所有资源后，必须在有限时间内归还<br></p>
<p>银行家算法的数据结构：<br></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&amp;emsp;n表示进程总数，m表示资源类型总数</span><br><span class="line">①Available-长度为m的矢量</span><br><span class="line">available[j] = k；表示Rj类型的资源共有k个实例可用</span><br><span class="line">②Max-n*m矩阵</span><br><span class="line">Max[i][j] = k；表示进程Pi可申请最多k个Rj类型的资源</span><br><span class="line">③Allocation-n*m矩阵</span><br><span class="line">Allocation[i][j] = k；表示进程Pi拥有Rj类型的资源有k个</span><br><span class="line">④Need-n*m矩阵</span><br><span class="line">Need[i][j] = k；表示进程Pi还需要申请Rj类型的资源k个，才能完成任务</span><br><span class="line">（Need = Max - Allocation）</span><br></pre></td></tr></table></figure>
<p><strong>算法过程</strong>：<br><br>&emsp;1、定义Request矢量，Requesti[j] = k；表示进程Pi向银行发出申请，申请Rj类型的资源k个<br><br>&emsp;2、if Request&lt;=Need，进程申请的资源没有超过它需要的资源，说明贷款人是否守信用，继续<br><br>&emsp;3、if Request&lt;=Available银行家手上的钱能满足贷款人的申请，继续<br><br>&emsp;4、假如满足了该进程的申请，系统试分配资源给进程p,并更新三个资源矩阵Available,Allocation和Need<br></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Available[j] -= Request[j]</span><br><span class="line">Allocation[i][j] += Request[j]</span><br><span class="line">Need[i][j] -= Request[j]</span><br></pre></td></tr></table></figure>
<p>&emsp;5、系统执行安全性算法检测，若分配资源后系统处于“安全状态”，才正式分配；否则恢复原来的分配状态，让该进程等待（检查贷款后是否安全）<br><br></p>
<p><strong>安全性检测算法</strong>：<br><br>&emsp;1、令Work为长度m的矢量，Finish为长度n的矢量。初始值：<br><br>&emsp;&emsp;a. Work = Available <br><br>&emsp;&emsp;b. For i =  1,2,…,n， if Allocation != 0 then Finish[i] = false; else Finish[i] = true<br><br>&emsp;2、从进程集合中找到一个满足下列条件的进程：<br><br>&emsp;&emsp;Finish[i] = false;<br><br>&emsp;&emsp;Need[i][j] &lt;= Work[j]<br><br>&emsp;3、当进程获得资源后，可顺利执行，并修改Work和Finish向量<br><br>&emsp;&emsp;Work[i] += Allocation[i][j]<br><br>&emsp;&emsp;Finish[i] = true<br><br>&emsp;4、如果所有进程中的Finish[i] = true说明系统处于安全状态。<br></p>
<p>&emsp;<strong>死锁避免总结</strong>：安全检测运行频繁，开销大，且只处于安全状态，资源利用率较低（如下图）。<br></p>
<figure class="image-box">
                <a rel=操作系统学习之死锁 href="https://file.moetu.org/images/2020/02/17/078458d2a566825b9dd1d06834e396b15e3fa73568066622.png" target="_blank" title="" data-fancybox="images"><img src="https://file.moetu.org/images/2020/02/17/078458d2a566825b9dd1d06834e396b15e3fa73568066622.png" alt="" title="" class=""></a>
                <p></p>
            </figure><br>
<p><font color="red"><big>死锁检测和恢复：</big></font><br><br><br>&emsp;○ 容忍系统陷入死锁状态<br><br>&emsp;○ 设计死锁检测算法，供需要时调用<br><br>&emsp;○ 配置系统恢复的对策<br><br><br>&emsp;死锁检测，定时或或满足某些条件（如CPU利用率下降到40%）时运行一下。<br><br>&emsp;死锁恢复：无脑直接反所有死锁进程全部杀死，或每次只杀出一个死锁进程，直至系统脱离死锁状态。<br></p>
<figure class="image-box">
                <a rel=操作系统学习之死锁 href="https://file.moetu.org/images/2020/02/17/83163e57fcd618b36342af41a7bbdb40ff86ec6256b5a663.png" target="_blank" title="" data-fancybox="images"><img src="https://file.moetu.org/images/2020/02/17/83163e57fcd618b36342af41a7bbdb40ff86ec6256b5a663.png" alt="" title="" class=""></a>
                <p></p>
            </figure>
<figure class="image-box">
                <a rel=操作系统学习之死锁 href="https://file.moetu.org/images/2020/02/17/61a549d54a92820ef0b20a1f50ba3d0e98f4722a380393c3.png" target="_blank" title="" data-fancybox="images"><img src="https://file.moetu.org/images/2020/02/17/61a549d54a92820ef0b20a1f50ba3d0e98f4722a380393c3.png" alt="" title="" class=""></a>
                <p></p>
            </figure>
        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2020-02-17T15:54:08.495Z" itemprop="dateUpdated">2020-02-17 23:54:08</time>
</span><br>


        
        转载注明出处，原文地址：<a href="/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/" target="_blank" rel="external">https://cral-freedom.github.io/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/</a>
        
    </div>
    <footer>
        <a href="https://cral-freedom.github.io/zhoujiabo.github.io">
            <img src="https://i.loli.net/2020/02/12/vtkHuf7DyOIhaST.jpg" alt="zhoujiabo">
            zhoujiabo
        </a>
    </footer>
</blockquote>

        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/zhoujiabo.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">操作系统</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://cral-freedom.github.io/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/&title=《操作系统学习之死锁》 — Zhou's Blog&pic=https://i.loli.net/2020/02/12/vtkHuf7DyOIhaST.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://cral-freedom.github.io/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/&title=《操作系统学习之死锁》 — Zhou's Blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            
    <div id="comment"></div>



        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/zhoujiabo.github.io/2020/02/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%89%8D%E5%BA%8F/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">操作系统学习之内存管理前序</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E7%BB%8F%E5%85%B8%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">操作系统学习之经典同步问题</h4>
      </a>
    </div>
  
</nav>


    
    
</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        我们一起来让这个世界有趣一点
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/zhoujiabo.github.io/img/reward-wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/zhoujiabo.github.io/img/reward-wechat.jpg" data-alipay="/zhoujiabo.github.io/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://cral-freedom.github.io/zhoujiabo.github.io/" target="_blank">HOME</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
        <p>
            <span>
                zhoujiabo &copy; 2020
            </span>
        		
           	
            
            
            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            
            
            

            
                
<span class="site-uv" title="总访客量">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="总访问量">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>

            
        </p>
    </div>
</footer>

    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://cral-freedom.github.io/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/&title=《操作系统学习之死锁》 — Zhou's Blog&pic=https://i.loli.net/2020/02/12/vtkHuf7DyOIhaST.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://cral-freedom.github.io/zhoujiabo.github.io/2020/02/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%AD%BB%E9%94%81/&title=《操作系统学习之死锁》 — Zhou's Blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAAEmCAAAAADqr2IGAAAEbElEQVR42u3ay44jIQwF0P7/n85Is2qpp1LXNukJ5NQqSj2AwwJs8/UVX4+/1/ff3//5+eTPu8n/+d2rJ3vvLrswYcKECdNbMj2eXlWa589cfS3pQ/5ub8pvvoMJEyZMmDZnmmwCkiU5X2fnK3KyBcnHjgkTJkyYPoept3hXO5e/1WsXEyZMmDBhmjSWB6V5sjVP6U42EJgwYcKE6Wym6ufmiHnpsZd6nnwfEyZMmDCdxNQ7uHPG75efb8KECRMmTP+V6VG8ku9UtxrVILlaUl0wakyYMGHCtC1TEhbmTU7emjyZlzxHLWLChAkTpg2ZVm0FVgXV1fB1kpgusGLChAkTps2ZJodpesFqEgD3SqGv2EZgwoQJE6Z9mSZhZ74A90Lr6vGdeQ9HOxpMmDBhwvSWTPkiWj2uOj+WWi2IToqsN2PEhAkTJkybMz1/rcqXDzgfUnXDMaH5x11MmDBhwrQ5U28RTTYT+TPzSL3an7yoiQkTJkyYzmPqRXzVLcU73I3oMWHChAnTEUzzJb933KdaNO2lp5Nk7uU3MWHChAnTtkzVTcCkDJkEnHlhMmeqTnO59osJEyZMmN6YqUdQTblWl+283d4E51OFCRMmTJjOYKqmepMjNXnQ21vg8ymZHBLChAkTJkxnMOWfTuCSBHE1JC6UHgcJ6Mt3MWHChAnTEUxVlN5in7TVI8j/KZdpMWHChAnTcUyTIHb+fI5YPXjUHBcmTJgwYTqIaXL4ZtLpPJye9CcfV2E/ggkTJkyY3pipWt7LQ9lqwbL3ZK/gWv2NCRMmTJh2Z+qVLfPQtApXPWqTbBp6bV1iYcKECROmDZkmiddewbJ3HCffUkzawoQJEyZM5zFNgslqyrhXtpz0KgfFhAkTJkwnMU2a/J23JluHVROMCRMmTJjOYJqUIavLbb54VwfWG8XNpGLChAkTpm2Z8iTv8070ErJ5i2v7mbNiwoQJE6bdmfIFvpfAzVOuq5K8vSLlTf8xYcKECdO2TFGwVzwWUx1AEqDmSd5JEjkKejFhwoQJ01ZMj/jqpUd7oDlWPtRJoI4JEyZMmHZnSoLAaucmhcxJSXLSh0sHTJgwYcK0LVOe6MxD0ElYOyk9VvuT9AQTJkyYMO3O1Atukw69ors54iRJXZhzTJgwYcK0CVM1iF1bgKyWHvP+99q6PLKDCRMmTJiOY6ou+fOUbp5u7qWAe0VZTJgwYcJ0BlMeiPZC1rXHdHqhbz4lmDBhwoTpDKbe56pHfHoFyCRwnQTDvRQ2JkyYMGHai+lRvHq41WB1bRjcm7zLgzuYMGHChGkrpt6S3CuF5kdn8nLjJMDOg3BMmDBhwrQ702RguffaZHEeyibfxIQJEyZMn8A0GdikGLlqOzLPcN9MBiZMmDBh+gCmtYng3pUndqshdFTUxIQJEyZMH8DUI8g3Gclgqgd3ku3FzfcxYcKECdPmTPkCnLBO7iZbjTlBeUSYMGHChGlbpkmaNR9SXmiscvzS2SVMmDBhwrQf0x+SOPHzLRziNwAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/zhoujiabo.github.io/js/plugins/fastclick.js?v=1.4.4"></script>
<script type="text/javascript" src="/zhoujiabo.github.io/js/plugins/ios-orientationchange-fix.js?v=1.4.4"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.js"></script>

<script type="text/javascript" src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<script type="text/javascript" src="/zhoujiabo.github.io/js/method.js?v=1.4.4"></script>
<script type="text/javascript" src="/zhoujiabo.github.io/js/blog.js?v=1.4.4"></script>

<!-- third-party -->






<script type="text/javascript" src="/zhoujiabo.github.io/js/plugins/local_search.js?v=1.4.4"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/zhoujiabo.github.io/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    
        <script type="text/javascript" src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script type="text/javascript" src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script type="text/javascript" src="/zhoujiabo.github.io/js/plugins/valine.js?v=1.4.4"></script>
    
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>







    
</body>
</html>
